{
  "name": "Perl-printer-escpos",
  "tagline": "Module for universal support of all Dot Matrix, Thermal POS printers supporting ESCPOS Specification",
  "body": "# NAME\r\n\r\nPrinter::ESCPOS - Interface for all thermal, dot-matrix and other receipt printers that support ESC-POS specification.\r\n\r\n<div>\r\n    <p>\r\n    <img src=\"https://img.shields.io/badge/perl-5.10+-brightgreen.svg\" alt=\"Requires Perl 5.10+\" />\r\n    <a href=\"https://travis-ci.org/shantanubhadoria/perl-Printer-ESCPOS\"><img src=\"https://api.travis-ci.org/shantanubhadoria/perl-Printer-ESCPOS.svg?branch=build/master\" alt=\"Travis status\" /></a>\r\n    <a href=\"http://matrix.cpantesters.org/?dist=Printer-ESCPOS%200.025\"><img src=\"https://badgedepot.code301.com/badge/cpantesters/Printer-ESCPOS/0.025\" alt=\"CPAN Testers result\" /></a>\r\n    <a href=\"http://cpants.cpanauthors.org/dist/Printer-ESCPOS-0.025\"><img src=\"https://badgedepot.code301.com/badge/kwalitee/Printer-ESCPOS/0.025\" alt=\"Distribution kwalitee\" /></a>\r\n    <a href=\"https://gratipay.com/shantanubhadoria\"><img src=\"https://img.shields.io/gratipay/shantanubhadoria.svg\" alt=\"Gratipay\" /></a>\r\n    </p>\r\n</div>\r\n\r\n# VERSION\r\n\r\nversion 0.025\r\n\r\n# SYNOPSIS\r\n\r\nIf you are just starting up with POS RECEIPT Printers, you must first refer to [Printer::ESCPOS::Manual](https://metacpan.org/pod/Printer::ESCPOS::Manual) to get started.\r\n\r\nPrinter::ESCPOS provides four different types of printer connections to talk to a ESCPOS printer.\r\nAs of v0.012 _driverType_ **Serial**, **Network**, **File** and **USB** are all implemented in this module. **USB** _driverType_ is not supported prior to v0.012.\r\n\r\n## USB Printer\r\n\r\n**USB** _driverType_ allows you to talk to your Printer using the _vendorId_ and _productId_ values for your printer. These can be retrieved using lsusb command\r\n\r\n     shantanu@shantanu-G41M-ES2L:~/github$ lsusb\r\n     . . .\r\n     Bus 003 Device 002: ID 1504:0006\r\n     . . .\r\n\r\nThe output gives us the _vendorId_ 0x1504 and _productId_ 0x0006\r\n\r\nFor USB Printers [Printer::ESCPOS](https://metacpan.org/pod/Printer::ESCPOS) uses a default _endPoint_ of 0x01 and a default _timeout_ of\r\n1000, however these can be specified manually in case your printer requires a different value.\r\n\r\n        use Printer::ESCPOS;\r\n    \r\n        my $vendorId  = 0x1504;\r\n        my $productId = 0x0006;\r\n        my $device = Printer::ESCPOS->new(\r\n            driverType     => 'USB',\r\n            vendorId       => $vendorId,\r\n            productId      => $productId,\r\n        );\r\n    \r\n        $device->printer->printAreaWidth( nL => 0, nH => 1);\r\n        $device->printer->text(\"Print Area Width Modified\\n\");\r\n        $device->printer->printAreaWidth(); # Reset to default\r\n        $device->printer->text(\"print area width reset\\n\");\r\n        $device->printer->tab();\r\n        $device->printer->underline(1);\r\n        $device->printer->text(\"underline on\\n\");\r\n        $device->printer->invert(1);\r\n        $device->printer->text(\"Inverted Text\\n\");\r\n        $device->printer->justification('right');\r\n        $device->printer->text(\"Right Justified\\n\");\r\n        $device->printer->upsideDown(1);\r\n        $device->printer->text(\"Upside Down\\n\");\r\n        $device->printer->cutPaper();\r\n    \r\n        $device->printer->print(); # Dispatch the above commands from module buffer to the Printer.\r\n\r\n## Network Printer\r\n\r\nFor Network Printers $port is 9100 in most cases but might differ depending on how\r\nyou have configured your printer\r\n\r\n        use Printer::ESCPOS;\r\n    \r\n        my $printer_id = '192.168.0.10';\r\n        my $port       = '9100';\r\n        my $device = Printer::ESCPOS->new(\r\n            driverType => 'Network',\r\n            deviceIp   => $printer_ip,\r\n            devicePort => $port,\r\n        );\r\n    \r\n        # These commands won't actually send anything to the printer but will store all the\r\n        # merged data including control codes to module buffer.\r\n        $device->printer->printAreaWidth( nL => 0, nH => 1);\r\n        $device->printer->text(\"Print Area Width Modified\\n\");\r\n        $device->printer->printAreaWidth(); # Reset to default\r\n        $device->printer->text(\"print area width reset\\n\");\r\n        $device->printer->tab();\r\n        $device->printer->underline(1);\r\n        $device->printer->text(\"underline on\\n\");\r\n        $device->printer->invert(1);\r\n        $device->printer->text(\"Inverted Text\\n\");\r\n        $device->printer->justification('right');\r\n        $device->printer->text(\"Right Justified\\n\");\r\n        $device->printer->upsideDown(1);\r\n        $device->printer->text(\"Upside Down\\n\");\r\n        $device->printer->cutPaper();\r\n    \r\n        $device->printer->print(); # Dispatch the above commands from module buffer to the Printer.\r\n                                   # This command takes care of read text buffers for the printer.\r\n\r\n## Serial Printer\r\n\r\nUse the **Serial** _driverType_ for local printer connected on serial port(or a printer connected via\r\na physical USB port in USB to Serial mode), check syslog(Usually under /var/log/syslog)\r\nfor what device file was created for your printer when you connect it to your system(For\r\nplug and play printers).\r\n\r\n        use Printer::ESCPOS;\r\n        use Data::Dumper; # Just to get dumps of status functions supported for Serial driverType.\r\n    \r\n        my $path = '/dev/ttyACM0';\r\n        $device = Printer::ESCPOS->new(\r\n            driverType     => 'Serial',\r\n            deviceFilePath => $path,\r\n        );\r\n    \r\n        say Dumper $device->printer->printerStatus();\r\n        say Dumper $device->printer->offlineStatus();\r\n        say Dumper $device->printer->errorStatus();\r\n        say Dumper $device->printer->paperSensorStatus();\r\n    \r\n        $device->printer->bold(1);\r\n        $device->printer->text(\"Bold Text\\n\");\r\n        $device->printer->bold(0);\r\n        $device->printer->text(\"Bold Text Off\\n\");\r\n    \r\n        $device->printer->print();\r\n\r\n## File(Direct to Device File) Printer\r\n\r\nA **File** _driverType_ is similar to the **Serial** _driverType_ in all functionality except that it\r\ndoesn't support the status functions for the printer. i.e. you will not be able to use\r\nprinterStatus, offlineStatus, errorStatus or paperSensorStatus functions\r\n\r\n        use Printer::ESCPOS;\r\n    \r\n        my $path = '/dev/usb/lp0';\r\n        $device = Printer::ESCPOS->new(\r\n            driverType     => 'File',\r\n            deviceFilePath => $path,\r\n        );\r\n    \r\n        $device->printer->bold(1);\r\n        $device->printer->text(\"Bold Text\\n\");\r\n        $device->printer->bold(0);\r\n        $device->printer->text(\"Bold Text Off\\n\");\r\n    \r\n        $device->printer->print();\r\n\r\n# DESCRIPTION\r\n\r\nYou can use this module for all your ESC-POS Printing needs. If some of your printer's functions are not included, you may extend this module by adding specialized funtions for your printer in it's own subclass. Refer to [Printer::ESCPOS::Roles::Profile](https://metacpan.org/pod/Printer::ESCPOS::Roles::Profile) and [Printer::ESCPOS::Profiles::Generic](https://metacpan.org/pod/Printer::ESCPOS::Profiles::Generic)\r\n\r\n# ATTRIBUTES\r\n\r\n## driverType\r\n\r\n\"Required attribute\". The driver type to use for your printer. This can be **File**, **Network**, **USB** or **Serial**.\r\nIf you choose **File** or **Serial** driver, you must provide the _deviceFilePath_,\r\nfor **Network** _driverType_ you must provide the _printerIp_ and _printerPort_,\r\nFor **USB** _driverType_ you must provide _vendorId_ and _productId_.\r\n\r\nUSB driver type:\r\n\r\n    my $vendorId  = 0x1504;\r\n    my $productId = 0x0006;\r\n    my $device = Printer::ESCPOS->new(\r\n        driverType => 'USB'\r\n        vendorId   => $vendorId,\r\n        productId  => $productId,\r\n    );\r\n\r\nNetwork driver type:\r\n\r\n    my $printer_id = '192.168.0.10';\r\n    my $port       = '9100';\r\n    my $device = Printer::ESCPOS->new(\r\n        driverType => 'Network',\r\n        deviceIp   => $printer_ip,\r\n        devicePort => $port,\r\n    );\r\n\r\nSerial driver type:\r\n\r\n    my $path = '/dev/ttyACM0';\r\n    $device = Printer::ESCPOS->new(\r\n        driverType     => 'Serial',\r\n        deviceFilePath => $path,\r\n    );\r\n\r\nFile driver type:\r\n\r\n    my $path = '/dev/usb/lp0';\r\n    $device = Printer::ESCPOS->new(\r\n        driverType     => 'File',\r\n        deviceFilePath => $path,\r\n    );\r\n\r\n## profile\r\n\r\nThere are minor differences in ESC POS printers across different brands and models in terms of specifications and extra features. For using special features of a particular brand you may create a sub class in the name space Printer::ESCPOS::Profiles::\\* and load your profile here. I would recommend extending the Generic Profile( [Printer::ESCPOS::Profiles::Generic](https://metacpan.org/pod/Printer::ESCPOS::Profiles::Generic) ).\r\nUse the following classes as examples.\r\n[Printer::ESCPOS::Profiles::Generic](https://metacpan.org/pod/Printer::ESCPOS::Profiles::Generic)\r\n[Printer::ESCPOS::Profiles::SinocanPSeries](https://metacpan.org/pod/Printer::ESCPOS::Profiles::SinocanPSeries)\r\n\r\nNote that your driver class will have to implement the Printer::ESCPOS::Roles::Profile Interface. This is a [Moo::Role](https://metacpan.org/pod/Moo::Role) and can be included in your class with the following line.\r\n\r\n    use Moo;\r\n    with 'Printer::ESCPOS::Roles::Profile';\r\n\r\nBy default the generic profile is loaded but if you have written your own Printer::ESCPOS::Profile::\\* class and want to override the generic class pass the _profile_ Param during object creation.\r\n\r\n    my $device = Printer::ESCPOS->new(\r\n        driverType => 'Network',\r\n        deviceIp   => $printer_ip,\r\n        devicePort => $port,\r\n        profile    => 'USERCUSTOM'\r\n    );\r\n\r\nThe above $device object will use the Printer::ESCPOS::Profile::USERCUSTOM profile.\r\n\r\n## deviceFilePath\r\n\r\nFile path for UNIX device file. e.g. \"/dev/ttyACM0\" this is a mandatory parameter if you are using **File** or **Serial** _driverType_.\r\n\r\n## portName\r\n\r\nWin32 serial port name\r\n\r\n## deviceIP\r\n\r\nContains the IP address of the device when its a network printer. The module creates [IO:Socket::INET](IO:Socket::INET) object to connect to the printer. This can be passed in the constructor.\r\n\r\n## devicePort\r\n\r\nContains the network port of the device when its a network printer. The module creates [IO:Socket::INET](IO:Socket::INET) object to connect to the printer. This can be passed in the constructor.\r\n\r\n## baudrate\r\n\r\nWhen used as a local serial device you can set the _baudrate_ of the printer too. Default (38400) will usually work, but not always.\r\n\r\n## serialOverUSB\r\n\r\nSet this value to 1 if you are connecting your printer using the USB Cable but it shows up as a serial device and you are using the **Serial** driver.\r\n\r\n## vendorId\r\n\r\nThis is a required param for **USB** _driverType_. It contains the USB printer's Vendor ID when using **USB** _driverType_. Use lsusb command to get this value for your printer.\r\n\r\n## productId\r\n\r\nThis is a required param for **USB** _driverType_. It contains the USB printer's product Id when using **USB** _driverType_. Use lsusb command to get this value for your printer.\r\n\r\n## endPoint\r\n\r\nThis is a optional param for **USB** _driverType_. It contains the USB endPoint for [Device::USB](https://metacpan.org/pod/Device::USB) to write to if the value is not 0x01 for your printer. Get it using the following command:\r\n\r\n    shantanu@shantanu-G41M-ES2L:~$ sudo lsusb -vvv -d 1504:0006 | grep bEndpointAddress | grep OUT\r\n            bEndpointAddress     0x01  EP 1 OUT\r\n\r\nReplace 1504:0006 with your own printer's vendor id and product id in the above command.\r\n\r\n## timeout\r\n\r\nTimeout for bulk write functions for the USB printer. Optional param.\r\n\r\n## printer\r\n\r\nUse this attribute to send commands to the printer\r\n\r\n    $device->printer->setFont('a');\r\n    $device->printer->text(\"blah blah blah\\n\");\r\n\r\n# USAGE\r\n\r\nRefer to the following manual to get started with [Printer::ESCPOS](https://metacpan.org/pod/Printer::ESCPOS)\r\n\r\n- [Printer::ESCPOS::Manual](https://metacpan.org/pod/Printer::ESCPOS::Manual)\r\n\r\n## Quick usage summary in steps:\r\n\r\n1. Create a device object $device by providing parameters for one of the supported printer types. Call $device->printer->init to initialize the printer.\r\n2. call text() and other Text formatting functions on $device->printer for the data to be sent to the printer. Make sure to end it all with a linefeed $device->printer->lf().\r\n3. Then call the print() method to dispatch the sequences from the module buffer to the printer\r\n\r\n     $device->printer->print()\r\n\r\nNote: While you may call print() after every single command code, this is not advisable as some printers tend to choke up if you send them too many print commands in quick succession. To avoid this, aggregate the data to be sent to the printer with text() and other text formatting functions and then send it all in one go using print() at the very end.\r\n\r\n# NOTES\r\n\r\n- In Serial mode if the printer prints out garbled characters instead of proper text, try specifying the baudrate parameter when you create the printer object. The default baudrate is set at 38400\r\n\r\n     $device = Printer::ESCPOS->new(\r\n         driverType     => 'Serial',\r\n         deviceFilePath => $path,\r\n         baudrate       => 9600,\r\n     );\r\n\r\n- For ESC-P codes refer the guide from Epson [http://support.epson.ru/upload/library\\_file/14/esc-p.pdf](http://support.epson.ru/upload/library_file/14/esc-p.pdf)\r\n\r\n# SEE ALSO\r\n\r\n- [Printer::ESCPOS::Manual](https://metacpan.org/pod/Printer::ESCPOS::Manual)\r\n- [Printer::ESCPOS::Profiles::Generic](https://metacpan.org/pod/Printer::ESCPOS::Profiles::Generic)\r\n- [Printer::ESCPOS::Profiles::SinocanPSeries](https://metacpan.org/pod/Printer::ESCPOS::Profiles::SinocanPSeries)\r\n- [Printer::ESCPOS::Roles::Profile](https://metacpan.org/pod/Printer::ESCPOS::Roles::Profile)\r\n- [Printer::ESCPOS::Roles::Connection](https://metacpan.org/pod/Printer::ESCPOS::Roles::Connection)\r\n- [Printer::ESCPOS::Connections::USB](https://metacpan.org/pod/Printer::ESCPOS::Connections::USB)\r\n- [Printer::ESCPOS::Connections::Serial](https://metacpan.org/pod/Printer::ESCPOS::Connections::Serial)\r\n- [Printer::ESCPOS::Connections::Network](https://metacpan.org/pod/Printer::ESCPOS::Connections::Network)\r\n- [Printer::ESCPOS::Connections::File](https://metacpan.org/pod/Printer::ESCPOS::Connections::File)\r\n\r\n# SUPPORT\r\n\r\n## Bugs / Feature Requests\r\n\r\nPlease report any bugs or feature requests through github at \r\n[https://github.com/shantanubhadoria/perl-printer-escpos/issues](https://github.com/shantanubhadoria/perl-printer-escpos/issues).\r\nYou will be notified automatically of any progress on your issue.\r\n\r\n## Source Code\r\n\r\nThis is open source software.  The code repository is available for\r\npublic review and contribution under the terms of the license.\r\n\r\n[https://github.com/shantanubhadoria/perl-printer-escpos](https://github.com/shantanubhadoria/perl-printer-escpos)\r\n\r\n    git clone git://github.com/shantanubhadoria/perl-printer-escpos.git\r\n\r\n# AUTHOR\r\n\r\nShantanu Bhadoria <shantanu@cpan.org> [https://www.shantanubhadoria.com](https://www.shantanubhadoria.com)\r\n\r\n# CONTRIBUTOR\r\n\r\nShantanu Bhadoria &lt;shantanu att cpan dott org>\r\n\r\n# COPYRIGHT AND LICENSE\r\n\r\nThis software is copyright (c) 2016 by Shantanu Bhadoria.\r\n\r\nThis is free software; you can redistribute it and/or modify it under\r\nthe same terms as the Perl 5 programming language system itself.\r\n",
  "google": "",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}